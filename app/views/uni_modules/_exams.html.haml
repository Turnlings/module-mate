.heading#assessments
  %h2 Assessments
  - unless @uni_module.correct_weight_sum?
    .icon-button.text-danger
      %i.fa-solid.fa-triangle-exclamation{ title: 'Total weight must be 100%' }
  .icon-button
    = link_to new_uni_module_exam_path(@uni_module), { title: 'Add Assessment' } do
      %i.fa-solid.fa-plus
.body
  - if @uni_module.exams.present?
    .link-cards-list
      - @uni_module.exams.each do |exam|
        = link_to uni_module_exam_path(@uni_module, exam) do
          .space-between
            .name= exam.name
            - if exam.score(current_user)
              .actual= "#{number_with_precision(exam.score(current_user), precision: 2)}%"
            - elsif exam.target(current_user)
              .required.text-muted= "Required: #{number_with_precision(exam.target(current_user), precision: 2)}%"
            - else 
              .empty.text-muted= "No Score"
          .space-between
            .font-secondary= exam.weight.to_s + '% Weighting'
            .font-secondary= exam.due&.strftime("%-d %b %Y")
